services:

  api:
    build:
      dockerfile: ./src/Apis.Dockerfile
    ports:
      - 5008:5008
    networks:
      - my-network
    environment:
      - ASPNETCORE_URLS=http://*:5008

  frontend:
    build:
      dockerfile: ./src/Frontend.Dockerfile
    ports:
      - 5147:5147
    volumes:
      - ./:/root/.aspnet/DataProtection-Keys
    networks:
      - my-network
    environment:
      - ASPNETCORE_URLS=http://*:5147
      - BackendUrl=http://api:5008

networks:
  my-network:
    external: false
